<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Return predictions and performance measures for a test set."><title>Predict using a cv.ptLasso object. — predict.cv.ptLasso • ptLasso</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Predict using a cv.ptLasso object. — predict.cv.ptLasso"><meta property="og:description" content="Return predictions and performance measures for a test set."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ptLasso</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/ptLasso.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/DifferentGroupsTrainAndTest.html">Different groups in train and test data</a>
    <a class="dropdown-item" href="../articles/LearningTheInputGroups.html">Learning the input groups</a>
    <a class="dropdown-item" href="../articles/MultitaskLearning.html">Multitask learning or coaching</a>
    <a class="dropdown-item" href="../articles/MultiResponseData.html">Multi-response data with mixed response types</a>
    <a class="dropdown-item" href="../articles/TimeSeriesData.html">Time series</a>
    <a class="dropdown-item" href="../articles/UsingNonlinearBases.html">Pretraining with nonlinear bases</a>
    <a class="dropdown-item" href="../articles/UnsupervisedPretraining.html">Unsupervised pretraining</a>
    <a class="dropdown-item" href="../articles/ConditionalAverageTreatmentEffect.html">Conditional average treatment effects</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Predict using a cv.ptLasso object.</h1>
      
      <div class="d-none name"><code>predict.cv.ptLasso.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Return predictions and performance measures for a test set.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for cv.ptLasso</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">xtest</span>,</span>
<span>  groupstest <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ytest <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  alpha <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  alphatype <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"fixed"</span>, <span class="st">"varying"</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"link"</span>, <span class="st">"response"</span>, <span class="st">"class"</span><span class="op">)</span>,</span>
<span>  s <span class="op">=</span> <span class="st">"lambda.min"</span>,</span>
<span>  gamma <span class="op">=</span> <span class="st">"gamma.min"</span>,</span>
<span>  return.link <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>object</dt>
<dd><p>Fitted <code>"cv.ptLasso"</code> object.</p></dd>


<dt>xtest</dt>
<dd><p>Input matrix, matching the form used by <code>"cv.ptLasso"</code> for model training.</p></dd>


<dt>groupstest</dt>
<dd><p>A vector indicating to which group each observation belongs. Coding should match that used for model training. Will be NULL for target grouped data.</p></dd>


<dt>ytest</dt>
<dd><p>Response variable. Optional. If included, <code>"predict"</code> will compute performance measures for xtest using code"type.measure" from the cvfit object.</p></dd>


<dt>alpha</dt>
<dd><p>The chosen alpha to use for prediction. May be a vector containing one value of alpha for each group. If NULL, this will rely on the choice of "alphatype".</p></dd>


<dt>alphatype</dt>
<dd><p>Choice of '"fixed"' or '"varying"'. If '"fixed"', use the alpha that achieved best cross-validated performance. If '"varying"', each group uses the alpha that optimized the group-specific cross-validated performance.</p></dd>


<dt>type</dt>
<dd><p>Type of prediction required. Type '"link"' gives the linear predictors for '"binomial", '"multinomial"' or '"cox"' models; for '"gaussian"' models it gives the fitted values. Type '"response"' gives the fitted probabilities for '"binomial"' or '"multinomial"', and the fitted relative-risk for '"cox"'; for '"gaussian"' type '"response"' is equivalent to type '"link"'. Note that for '"binomial"' models, results are returned only for the class corresponding to the second level of the factor response. Type '"class"' applies only to '"binomial"' or '"multinomial"' models, and produces the class label corresponding to the maximum probability.</p></dd>


<dt>s</dt>
<dd><p>Value of the penalty parameter 'lambda' at which predictions are required. Will use the same lambda for all models; can be a numeric value, '"lambda.min"' or '"lambda.1se"'. Default is '"lambda.min"'.</p></dd>


<dt>gamma</dt>
<dd><p>For use only when 'relax = TRUE' was specified during training. Value of the penalty parameter 'gamma' at which predictions are required. Will use the same gamma for all models; can be a numeric value, '"gamma.min"' or '"gamma.1se"'. Default is '"gamma.min"'.</p></dd>


<dt>return.link</dt>
<dd><p>If <code>TRUE</code>, will additionally return the linear link for the overall, pretrained and individual models: <code>linkoverall</code>, <code>linkpre</code> and <code>linkind</code>.</p></dd>


<dt>...</dt>
<dd><p>other arguments to be passed to the <code>"predict"</code> function.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list containing the requested predictions. If <code>ytest</code> is included, will also return error measures.</p>
<dl><dt>call</dt>
<dd><p>The call that produced this object.</p></dd>

<dt>alpha</dt>
<dd><p>The value(s) of alpha used to generate predictions.</p></dd>

<dt>yhatoverall</dt>
<dd><p>Predictions from the overall model.</p></dd>

<dt>yhatind</dt>
<dd><p>Predictions from the individual models.</p></dd>

<dt>yhatpre</dt>
<dd><p>Predictions from the pretrained models.</p></dd>

<dt>supoverall</dt>
<dd><p>Indices of the features selected by the overall model.</p></dd>

<dt>supind</dt>
<dd><p>Union of the indices of the features selected by the individual models.</p></dd>

<dt>suppre.common</dt>
<dd><p>Features selected in the first stage of pretraining.</p></dd>

<dt>suppre.individual</dt>
<dd><p>Union of the indices of the features selected by the pretrained models, without the features selected in the first stage.</p></dd>

<dt>type.measure</dt>
<dd><p>If <code>ytest</code> is supplied, the performance measure computed.</p></dd>

<dt>erroverall</dt>
<dd><p>If <code>ytest</code> is supplied, performance for the overall model. This is a named vector containing performance for (1) the entire dataset, (2) the average performance across groups, (3) the average performance across groups weighted by group size and (4) group-specific performance.</p></dd>

<dt>errind</dt>
<dd><p>If <code>ytest</code> is supplied, performance for the overall model. As described in <code>erroverall</code>.</p></dd>

<dt>errpre</dt>
<dd><p>If <code>ytest</code> is supplied, performance for the overall model. As described in <code>erroverall</code>.</p></dd>

<dt>linkoverall</dt>
<dd><p>If <code>return.link</code> is TRUE, return the linear link from the overall model.</p></dd>

<dt>linkind</dt>
<dd><p>If <code>return.link</code> is TRUE, return the linear link from the individual models.</p></dd>

<dt>linkpre</dt>
<dd><p>If <code>return.link</code> is TRUE, return the linear link from the pretrained models.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code>ptLasso</code>, <code>cv.ptLasso</code> and <code>predict.cv.ptLasso</code>.</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Erin Craig and Rob Tibshirani<br> Maintainer:
Erin Craig &lt;erincr@stanford.edu&gt;</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#### Gaussian example</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1234</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">=</span> <span class="fu"><a href="gaussian.example.data.html">gaussian.example.data</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">=</span> <span class="va">out</span><span class="op">$</span><span class="va">x</span>; <span class="va">y</span><span class="op">=</span><span class="va">out</span><span class="op">$</span><span class="va">y</span>; <span class="va">groups</span> <span class="op">=</span> <span class="va">out</span><span class="op">$</span><span class="va">group</span>;</span></span>
<span class="r-in"><span><span class="va">outtest</span> <span class="op">=</span> <span class="fu"><a href="gaussian.example.data.html">gaussian.example.data</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">xtest</span><span class="op">=</span><span class="va">outtest</span><span class="op">$</span><span class="va">x</span>; <span class="va">ytest</span><span class="op">=</span><span class="va">outtest</span><span class="op">$</span><span class="va">y</span>; <span class="va">groupstest</span><span class="op">=</span><span class="va">outtest</span><span class="op">$</span><span class="va">groups</span>;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Model fitting</span></span></span>
<span class="r-in"><span><span class="co"># By default, use the single value of alpha that had the best CV performance on the entire dataset:</span></span></span>
<span class="r-in"><span><span class="va">cvfit</span> <span class="op">=</span> <span class="fu"><a href="cv.ptLasso.html">cv.ptLasso</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, groups <span class="op">=</span> <span class="va">groups</span>, family <span class="op">=</span> <span class="st">"gaussian"</span>, type.measure <span class="op">=</span> <span class="st">"mse"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pred</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">cvfit</span>, <span class="va">xtest</span>, <span class="va">groupstest</span>, ytest<span class="op">=</span><span class="va">ytest</span>, s<span class="op">=</span><span class="st">"lambda.min"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pred</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> predict.cv.ptLasso(object = cvfit, xtest = xtest, groupstest = groupstest,  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ytest = ytest, s = "lambda.min") </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> alpha =  0.5 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Performance (Mean squared error):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            allGroups  mean group_1 group_2 group_3 group_4 group_5    r^2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall        755.7 755.7   836.0   554.9   565.4   777.9  1044.0 0.5371</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pretrain       490.6 490.6   528.5   430.2   528.0   490.2   476.0 0.6995</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual     532.8 532.8   584.1   443.2   567.2   550.5   518.9 0.6736</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Support size:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall    64                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pretrain   94 (21 common + 73 individual)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual 109                           </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For each group, use the value of alpha that had the best CV performance for that group:</span></span></span>
<span class="r-in"><span><span class="va">pred</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">cvfit</span>, <span class="va">xtest</span>, <span class="va">groupstest</span>, ytest<span class="op">=</span><span class="va">ytest</span>, s<span class="op">=</span><span class="st">"lambda.min"</span>, alphatype <span class="op">=</span> <span class="st">"varying"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pred</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> predict.cv.ptLasso(object = cvfit, xtest = xtest, groupstest = groupstest,  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ytest = ytest, alphatype = "varying", s = "lambda.min") </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> alpha:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> group_1 group_2 group_3 group_4 group_5 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     0.5     0.3     0.5     1.0     0.6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Performance (Mean squared error):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            overall  mean wtdMean group_1 group_2 group_3 group_4 group_5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall      755.7 755.7   755.7   836.0   554.9   565.4   777.9  1044.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pretrain     504.7 504.7   504.7   528.5   431.8   528.0   550.5   484.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual   532.8 532.8   532.8   584.1   443.2   567.2   550.5   518.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Support size:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall    64                             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pretrain   103 (21 common + 82 individual)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual 109                            </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Specify a single value of alpha and use lambda.1se.</span></span></span>
<span class="r-in"><span><span class="va">pred</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">cvfit</span>, <span class="va">xtest</span>, <span class="va">groupstest</span>, ytest<span class="op">=</span><span class="va">ytest</span>, s<span class="op">=</span><span class="st">"lambda.1se"</span>,</span></span>
<span class="r-in"><span>               alphatype <span class="op">=</span> <span class="st">"varying"</span>, alpha <span class="op">=</span> <span class="fl">.3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pred</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> predict.cv.ptLasso(object = cvfit, xtest = xtest, groupstest = groupstest,  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ytest = ytest, alpha = 0.3, alphatype = "varying", s = "lambda.1se") </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> alpha =  0.3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Performance (Mean squared error):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            allGroups  mean group_1 group_2 group_3 group_4 group_5    r^2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall        789.1 789.1   723.7   490.3   609.6   897.3  1224.8 0.5166</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pretrain       512.8 512.8   508.7   468.3   576.0   489.4   521.5 0.6859</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual     564.4 564.4   536.7   468.7   643.8   572.0   600.8 0.6543</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Support size:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall    21                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pretrain   56 (21 common + 35 individual)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual 80                            </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Specify a vector of choices for alpha: </span></span></span>
<span class="r-in"><span><span class="va">pred</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">cvfit</span>, <span class="va">xtest</span>, <span class="va">groupstest</span>, ytest<span class="op">=</span><span class="va">ytest</span>, s<span class="op">=</span><span class="st">"lambda.min"</span>,</span></span>
<span class="r-in"><span>               alphatype <span class="op">=</span> <span class="st">"varying"</span>, alpha <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.1</span>, <span class="fl">.2</span>, <span class="fl">.3</span>, <span class="fl">.4</span>, <span class="fl">.5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pred</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> predict.cv.ptLasso(object = cvfit, xtest = xtest, groupstest = groupstest,  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ytest = ytest, alpha = c(0.1, 0.2, 0.3, 0.4, 0.5), alphatype = "varying",  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     s = "lambda.min") </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> alpha:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> group_1 group_2 group_3 group_4 group_5 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     0.1     0.2     0.3     0.4     0.5 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Performance (Mean squared error):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            overall  mean wtdMean group_1 group_2 group_3 group_4 group_5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall      755.7 755.7   755.7   836.0   554.9   565.4   777.9  1044.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pretrain     493.4 493.4   493.4   552.4   435.8   521.1   481.5   476.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual   532.8 532.8   532.8   584.1   443.2   567.2   550.5   518.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Support size:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall    64                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pretrain   91 (21 common + 70 individual)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual 109                           </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="http://www.erincraig.me" class="external-link">Erin Craig</a>, <a href="http://statistics.stanford.edu/people/robert-tibshirani" class="external-link">Rob Tibshirani</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

